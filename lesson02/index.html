<!DOCTYPE html>
<html>
<head>
  <title> </title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>     
</head>
<body>
  <h2>underscores.js - Array functions: _.compact, _.flatten 
  </h2>
  <script>
    /* Bug in chrome: refresh page in console to see console.table https://bugs.chromium.org/p/chromium/issues/detail?id=801986 */
    
    "use strict";
    var items = [2,"",true,false,0,"some value",undefined,NaN];
    var items2 = [["a","b","c"],[[1,2,3,],[true,false]]];
   
    /* _.compact(array) 
    Returns a copy of the array with all falsy values removed. In JavaScript, false, null, 0, "", undefined and NaN are all falsy. */
    
    console.log ("\tusing _.compact()...");   
    var compactItems = _.compact(items);  
    console.table (compactItems); 
    
    /* _.flatten(array, [shallow]) 
    Flattens a nested array (the nesting can be to any depth). If you pass shallow (boolean), the array will only be flattened a single level. */
    
    console.log ("\tusing _.flatten()...");   
    var flattenItems = _.flatten(items2);  
    console.table (flattenItems);
    console.log ("/nFlattened to a single level.")    
    var flattenItems = _.flatten(items2, true);  
    console.table (flattenItems);     
    
  </script>
</body>
</html>